{% extends "hotel/base.html" %}

{% block title %}Reviews - Dallas Grand Beach Hotel{% endblock %}

{% block meta %}
  <meta name="description" content="Read guest reviews and ratings for Dallas Grand Beach Hotel — real guest feedback about rooms, service, and facilities.">
  <meta name="robots" content="index,follow">
  <meta property="og:site_name" content="Dallas Grand Beach Hotel">
  <meta property="og:type" content="website">
  <meta property="og:title" content="Guest Reviews — Dallas Grand Beach Hotel">
  <meta property="og:description" content="Real guest reviews and ratings for Dallas Grand Beach Hotel. See what visitors say about our rooms, pool, restaurant and service.">
  {% if request %}<link rel="canonical" href="{{ request.build_absolute_uri }}" />{% endif %}
{% endblock %}

{% block head_extra %}
  <style>
    .star { color: #f59e0b; }
    .review-card { transition: box-shadow .18s ease, transform .18s ease; }
    .review-card:hover { box-shadow: 0 12px 30px rgba(0,0,0,0.12); transform: translateY(-4px); }
  </style>
{% endblock %}

{% block content %}
  <div class="bg-gradient-to-r from-blue-600 to-blue-800 text-white py-16">
    <div class="max-w-7xl mx-auto px-6 text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-2">Guest Reviews</h1>
      <p class="text-blue-100 mt-2">See what guests are saying about Dallas Grand Beach Hotel</p>
    </div>
  </div>

  <section class="max-w-7xl mx-auto px-6 py-12">
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <div class="bg-white rounded-lg p-6 shadow-md">
        <h2 class="text-xl font-semibold mb-4">Overall rating</h2>
        {% if google_reviews and not google_reviews.error %}
        <div class="flex items-center gap-4">
          <div class="flex flex-col items-start">
            <div class="text-5xl font-bold">{{ google_reviews.rating }}</div>
            <div class="text-sm text-gray-500">based on {{ google_reviews.total }} reviews</div>
          </div>
          <div class="flex items-center gap-1">
            {% for i in "12345" %}
              {% if forloop.counter <= google_reviews.rating|floatformat:0 %}
                <span class="star">★</span>
              {% else %}
                <span class="star">☆</span>
              {% endif %}
            {% endfor %}
          </div>
        </div>

        <div class="mt-6 space-y-3 text-sm">
          <div class="text-gray-600">Rating distribution is available on Google Reviews.</div>
        </div>

        <a href="https://www.google.com/travel/search?q=dallas%20grand%20beach%20resort%20near%20Sapele%20Urban%20V%2C%20Sapele&hl=en-NG&gl=ng" target="_blank" rel="noopener" class="inline-block mt-6 w-full text-center bg-blue-600 hover:bg-blue-700 text-white py-2 rounded">Read more on Google Reviews</a>
        {% else %}
        <div class="flex items-center gap-4">
          <div class="flex flex-col items-start">
            <div class="text-5xl font-bold">4.7</div>
            <div class="text-sm text-gray-500">based on 1,234 reviews</div>
          </div>
          <div class="flex items-center gap-1">
            <span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">★</span><span class="star">☆</span>
          </div>
        </div>
        <a href="https://www.google.com/travel/search?q=dallas%20grand%20beach%20resort%20near%20Sapele%20Urban%20V%2C%20Sapele&hl=en-NG&gl=ng" target="_blank" rel="noopener" class="inline-block mt-6 w-full text-center bg-blue-600 hover:bg-blue-700 text-white py-2 rounded">Read more on Google Reviews</a>
        {% endif %}
      </div>

      <div class="lg:col-span-2">
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
          {% if google_reviews and not google_reviews.error %}
            {% for r in google_reviews.reviews %}
            <article class="bg-white rounded-lg p-4 review-card">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0">
                  {% if r.profile_photo %}
                    <img src="{{ r.profile_photo }}" alt="{{ r.author }}" class="h-12 w-12 rounded-full object-cover">
                  {% else %}
                    <div class="h-12 w-12 rounded-full bg-gray-200 flex items-center justify-center text-lg font-semibold">{{ r.author|slice:":2"|upper }}</div>
                  {% endif %}
                </div>
                <div>
                  <div class="flex items-center gap-3">
                    <h3 class="font-semibold">{{ r.author }}</h3>
                    <div class="text-sm text-gray-500">• {{ r.time }}</div>
                  </div>
                  <div class="text-sm text-yellow-500 mt-1">{% for i in "12345" %}{% if forloop.counter <= r.rating %}★{% else %}☆{% endif %}{% endfor %}</div>
                  <p class="mt-2 text-sm text-gray-700">{{ r.text }}</p>
                </div>
              </div>
            </article>
            {% endfor %}
          {% else %}
            <article class="bg-white rounded-lg p-4 review-card"> ... </article>
          {% endif %}
        </div>
        <div class="bg-white rounded-lg p-6 shadow-md">
          <h3 class="text-lg font-semibold mb-3">Share your experience</h3>
          <p class="text-sm text-gray-600 mb-4">We'd love your feedback. Leave a review on Google or submit it here and we'll follow up.</p>
        </div>
      </div>
    </div>
  </section>
{% endblock %}

{% block scripts %}{% endblock %}